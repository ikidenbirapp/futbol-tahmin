<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Analiz Pro - V2</title>
    <style>
        :root { --accent: #f39c12; --bg: #0b0b0b; --card-bg: #181818; }
        body { background-color: var(--bg); color: #fff; font-family: 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 15px; }
        
        .header { text-align: center; padding: 20px 0; border-bottom: 1px solid #333; margin-bottom: 20px; }
        .header h2 { margin: 0; color: var(--accent); letter-spacing: 2px; font-size: 22px; }

        .card { background: var(--card-bg); border-radius: 16px; padding: 18px; margin-bottom: 20px; border: 1px solid #2a2a2a; position: relative; overflow: hidden; }
        .card::before { content: ''; position: absolute; left: 0; top: 0; height: 100%; width: 4px; background: var(--accent); }

        .league-info { display: flex; justify-content: space-between; font-size: 11px; color: #777; margin-bottom: 12px; }
        
        .match-row { display: flex; justify-content: space-between; align-items: center; margin: 15px 0; font-weight: bold; font-size: 16px; }
        .team-name { width: 40%; text-align: center; }
        .vs-badge { background: #222; color: var(--accent); padding: 4px 8px; border-radius: 6px; font-size: 12px; }

        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px; }
        .stat-item { background: #222; padding: 10px; border-radius: 10px; text-align: center; border: 1px solid #333; }
        .label { display: block; font-size: 9px; color: #888; text-transform: uppercase; margin-bottom: 4px; }
        .val { font-size: 13px; font-weight: bold; color: #2ecc71; }

        /* Analiz Butonu */
        .analyze-btn { width: 100%; background: var(--accent); color: #000; border: none; padding: 12px; border-radius: 10px; font-weight: bold; margin-top: 15px; cursor: pointer; transition: 0.3s; }
        .analyze-btn:active { transform: scale(0.98); opacity: 0.8; }

        /* Analiz Sonucu Alanı */
        .analysis-result { display: none; margin-top: 15px; padding: 12px; background: #000; border-radius: 10px; border: 1px dashed var(--accent); font-size: 13px; line-height: 1.5; color: #ddd; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        #status { text-align: center; color: var(--accent); margin-top: 50px; }
    </style>
</head>
<body>

    <div class="header">
        <h2>AI ANALİZ SİSTEMİ</h2>
    </div>

    <div id="status">Maçlar taranıyor...</div>
    <div id="content"></div>

    <script>
        const API_TOKEN = "f950a4eff9b749b48764a00afb4012a0";

        function generateAnalysis(home, away) {
            const analyses = [
                `${home} son 5 maçında hücum hattında etkili. ${away} ise deplasmanda savunma zaafları yaşıyor. AI verilerine göre erken gol ihtimali yüksek.`,
                `İki takım arasındaki son 3 karşılaşmada KG VAR sonucu çıktı. ${home} ev sahibi avantajını kullanacaktır. Riskli ama kazançlı bir maç.`,
                `Yapay zeka modellerimiz ${away} takımının fiziksel üstünlüğünü vurguluyor. Orta saha mücadelesinin yoğun geçeceği ve düşük skorlu bir maç beklentisi var.`,
                `${home} ligdeki yerini korumak için mutlak galibiyet peşinde. ${away} kontrataklarla şans arayacak. Köşe vuruşu sayısı beklentinin üzerine çıkabilir.`
            ];
            return analyses[Math.floor(Math.random() * analyses.length)];
        }

        function toggleAnalysis(btn, home, away) {
            const resultDiv = btn.nextElementSibling;
            if (resultDiv.style.display === "block") {
                resultDiv.style.display = "none";
                btn.innerText = "ANALİZ YAP";
            } else {
                btn.innerText = "ANALİZ TAMAMLANDI";
                resultDiv.innerHTML = "<strong>AI Yorumu:</strong> " + generateAnalysis(home, away);
                resultDiv.style.display = "block";
            }
        }

        async function loadMatches() {
            try {
                const response = await fetch('https://api.football-data.org/v4/matches', {
                    headers: { 'X-Auth-Token': API_TOKEN }
                });
                const data = await response.json();
                const statusDiv = document.getElementById('status');
                const contentDiv = document.getElementById('content');

                if (data.matches && data.matches.length > 0) {
                    statusDiv.style.display = 'none';
                    data.matches.forEach(m => {
                        contentDiv.innerHTML += `
                            <div class="card">
                                <div class="league-info">
                                    <span>${m.competition.name}</span>
                                    <span>${new Date(m.utcDate).getHours()}:${String(new Date(m.utcDate).getMinutes()).padStart(2,'0')}</span>
                                </div>
                                <div class="match-row">
                                    <div class="team-name">${m.homeTeam.shortName || m.homeTeam.name}</div>
                                    <div class="vs-badge">VS</div>
                                    <div class="team-name">${m.awayTeam.shortName || m.awayTeam.name}</div>
                                </div>
                                <div class="stats-grid">
                                    <div class="stat-item"><span class="label">Tahmin</span><span class="val">MS 1</span></div>
                                    <div class="stat-item"><span class="label">Güven</span><span class="val">%${Math.floor(Math.random()*15)+80}</span></div>
                                </div>
                                <button class="analyze-btn" onclick="toggleAnalysis(this, '${m.homeTeam.shortName}', '${m.awayTeam.shortName}')">ANALİZ YAP</button>
                                <div class="analysis-result"></div>
                            </div>
                        `;
                    });
                } else {
                    statusDiv.innerHTML = "Şu an aktif majör lig maçı bulunamadı.";
                }
            } catch (e) {
                document.getElementById('status').innerHTML = "Bağlantı hatası.";
            }
        }
        loadMatches();
    </script>
</body>
</html>
